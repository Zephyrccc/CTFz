import{d as U,u as V,r as E,h as A,X as P,A as R,t as x,aJ as _,_ as D,c as k,a as e,w as t,f as v,I as F,o as p,b as d,L as i,B as $,E as I}from"./index-f48438ef.js";import{E as N,a as z}from"./select-6478868a.js";import"./input-86eb12f4.js";import{a as J,b as M}from"./col-a1fd19f5.js";import{E as X,a as j}from"./table-column-b5089e17.js";import{E as q}from"./divider-91fb6dfc.js";import{_ as b}from"./TextSearch-b79fa742.js";import"./_initCloneObject-69a7e4eb.js";const G=U({name:"RankView",components:{TextSearch:b},setup(){const o=V(),r=E(1),l=E(),c=A({loadAll:()=>{_().then(n=>{l.value=n.data})},handleSearchChange:n=>{_({username:n}).then(s=>{l.value=s.data})}});return P(r,n=>{_({page:n}).then(s=>{l.value=s.data})}),R(()=>{c.loadAll()}),{store:o,currentPage:r,rankUserList:l,...x(c)}}});const H={class:"rank-list"},K={key:1},O={class:"pagination"};function Q(o,r,l,c,n,m){var h,g;const s=M,y=b,C=J,S=z,T=q,f=I,u=j,B=X,L=N;return p(),k(F,null,[e(C,null,{default:t(()=>[e(s,{span:18}),e(s,{span:6,class:"search-bar"},{default:t(()=>[e(y,{placeholderText:"搜索用户",onSearchChange:o.handleSearchChange},null,8,["onSearchChange"])]),_:1})]),_:1}),e(T,null,{default:t(()=>[e(S,{type:"success",effect:"dark",round:""},{default:t(()=>{var a,w;return[d(" 您的积分:"+i((w=(a=o.store.state)==null?void 0:a.UserInfo)==null?void 0:w.total_score),1)]}),_:1})]),_:1}),v("div",H,[e(B,{data:(h=o.rankUserList)==null?void 0:h.results,stripe:""},{default:t(()=>[e(u,{label:"用户",width:"200","show-overflow-tooltip":!0},{default:t(a=>[e(f,{underline:!1,href:"/user/"+a.row.id,type:"primary",class:"username"},{default:t(()=>[d(i(a.row.username),1)]),_:2},1032,["href"])]),_:1}),e(u,{prop:"describe",label:"个性签名",width:"400","show-overflow-tooltip":!0}),e(u,{label:"团队",width:"200","show-overflow-tooltip":!0},{default:t(a=>[a.row.team?(p(),$(f,{key:0,href:"/team/"+a.row.team.id},{default:t(()=>[d(i(a.row.team.name),1)]),_:2},1032,["href"])):(p(),k("span",K,"-"))]),_:1}),e(u,{prop:"total_score",label:"积分"}),e(u,{prop:"solve_record.length",label:"解题数"})]),_:1},8,["data"])]),v("div",O,[e(L,{"current-page":o.currentPage,"onUpdate:currentPage":r[0]||(r[0]=a=>o.currentPage=a),small:"",background:"",layout:"prev, pager, next","page-size":15,total:(g=o.rankUserList)==null?void 0:g.count},null,8,["current-page","total"])])],64)}const se=D(G,[["render",Q],["__scopeId","data-v-7ad821de"]]);export{se as default};
